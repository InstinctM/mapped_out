{%extends "base.html" %}

<!-- Change the title of this page HERE -->
{%block title%}Post New Video{%endblock%}


{%block content%}


<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
    crossorigin="" />
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
    crossorigin=""></script>

<style>
    #map-select {
        width: 100%;
        height: 480px;
    }
</style>

<div class="container m-auto">
    <div class="col-8 m-auto justify-content-center">
        <h1 id="new-vid-text" class="my-4">New Video</h1>

        <div class="mb-4">
            <label class="form-label" for="title">Title</label>
            <input type="text" id="title" class="form-control" />
        </div>

        <label class="form-label" for="link">Youtube Link</label>
        <div class="input-group">
            <span class="input-group-text">https://www.youtube.com/embed/</span>
            <input type="text" id="link" class="form-control" />
        </div>
        <p class="form-text"> * The Youtube video id:
            e.g. https://www.youtube.com/watch?v=<span style="color: red;">abcd1234XYZ</span>
        </p>

        <p id="location-txt"> Location: [lat, lon] </p>

        <div id="map-select" class="mb-4"></div>

        <button type="button" id="post-btn" class="btn btn-primary btn-lg btn-block mb-2" style="width: 100%;"
            onclick="onPostVideo()">Post</button>
        <button type="button" class="btn btn-link btn-block" style="width: 100%;"
            onclick="location.replace('/web')">Cancel</button>
    </div>
</div>

<script src="/web/static/js/postvideo.js"></script>
<script>
    if (!checkLoginStatus()) {
        location.replace("/web/login");
    }
</script>

{%endblock%}
